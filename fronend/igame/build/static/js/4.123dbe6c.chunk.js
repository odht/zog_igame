webpackJsonp([4],{1156:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=n.n(l),u=n(19),c=n(16),s=n(47),p=(n.n(s),n(48)),m=n(214),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=u.d.Item,y=u.h.Option,d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(c.j,{mode:"light",icon:i.a.createElement(c.g,{type:"left"}),onLeftClick:this.props.toTeamMine,rightContent:[i.a.createElement(c.g,{key:"0",type:"plus-square",onClick:function(){return e.props.toTeamAdd()},style:{marginRight:"16px",fontSize:20}})]},"\u521b\u5efa\u8d5b\u961f"),i.a.createElement(c.o,{size:"xl"}),i.a.createElement(c.p,null,i.a.createElement(b,{toTeamMine:this.props.toTeamMine})))}}]),t}(i.a.Component);t.default=d;var v=function(e){function t(){var e,n,o,l;a(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={player:null},o.onSubmit=function(e){e.preventDefault(),o.props.form.validateFields(function(e){if(e)c.n.fail("\u60a8\u7684\u8f93\u5165\u4e0d\u5b8c\u6574\uff01",1);else{var t=o.props.form.getFieldsValue(),n=function(){c.n.success("\u961f\u4f0d\uff1a\u3010"+t.teamname+"\u3011\u521b\u5efa\u6210\u529f",1),o.props.toTeamMine()},a=function(){c.n.fail("\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",1)};new m.a(n,a).create_team(t.teamname,t.player)}})},o.validateTeamName=function(e,t,n){var a=/[A-Za-z0-9_\-\u4e00-\u9fa5]+/;t?a.test(t)&&t.length>2&&t.length<=10?n():n(new Error("\u957f\u5ea6\u4e3a3-10\u4e2a\u5b57\u7b26\uff0c\u53ea\u80fd\u5305\u542b\u4e2d\u6587\u3001\u6570\u5b57\u3001\u5b57\u6bcd")):n()},o.validatePlayerr=function(e,t,n){t?t.length>3&&t.length<=6?n():n(new Error("\u8bf7\u9009\u62e94-6\u4e2a\u961f\u5458")):n()},l=n,r(o,l)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;new p.a(function(t){e.setState({player:t})},function(){}).get_users()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=[];return this.state.player&&0!==this.state.player.length?this.state.player.forEach(function(e){t.push(i.a.createElement(y,{key:e.id,value:e.id,disabled:!1},e.name))}):t.push(i.a.createElement(y,{key:0,value:0,disabled:!0},"\u6682\u65e0\u53ef\u4ee5\u6dfb\u52a0\u7684\u7528\u6237")),i.a.createElement(u.d,{layout:"vertical",onSubmit:this.onSubmit},i.a.createElement(h,{label:"\u961f\u4f0d\u540d\u79f0",style:{marginBottom:0}},e("teamname",{rules:[{required:!0},{validator:this.validateTeamName}]})(i.a.createElement(u.f,{placeholder:"\u586b\u5199\u961f\u4f0d\u540d\u79f0",style:{width:250}}))),i.a.createElement(h,{style:{marginBottom:0}},i.a.createElement("span",null,"\u961f\u4f0d\u6210\u5458(4-8\u4eba)\uff1a")),i.a.createElement(h,{label:"\u961f\u5458",style:{marginBottom:0}},e("player",{rules:[{required:!0},{validator:this.validatePlayerr}]})(i.a.createElement(u.h,{mode:"multiple",placeholder:"\u59d3\u540d",showSearch:!0,style:{width:250}},t))),i.a.createElement(c.o,{size:"xl"}),i.a.createElement(h,null,i.a.createElement(u.a,{type:"primary",htmlType:"submit"},"\u521b\u5efa\u8d5b\u961f")))}}]),t}(i.a.Component),b=u.d.create()(v)}});
//# sourceMappingURL=4.123dbe6c.chunk.js.map